#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <filesystem>
using namespace std;

int main() {

	while (true) {

		int c = 1;
		string userInput;
		string text;

		fstream DBList("DBList.txt", fstream::in | fstream::out | fstream::app);

		//Print file names
		while (getline(DBList, text)) {
			cout << c << ": ";
			cout << text << endl;
			c++;
		}
		
		//User input
		cout << "Which file would you like to open? (TYPE C TO CREATE)" << endl;
		cin >> userInput;

		DBList.close();

		//Create new file
		if (userInput == "C") {
			string userInput;
			cout << "Type desired file name" << endl;
			cin >> userInput;

			//Add .txt to the end of userInput
			string txt = ".txt";
			string fileName1 = userInput + txt;

			//Create the file
			ofstream fileName2(fileName1);
			fileName2.close();

			//Add userInput file name to DBList
			fstream DBList("DBList.txt", ios::app);
			if (DBList.is_open()) {
				DBList << fileName1 << endl;
				DBList.close();
			}
		}
		//Open existing file
		else {

			int c = 1;
			string text;
			string txt = ".txt";
			string fullFile = userInput + txt;
			//File found
			if (std::filesystem::exists(fullFile)) {
				fstream fileName( fullFile, fstream::out | fstream::app);
				cout << fullFile << " has been opened!" << endl;
			}
			//File not found
			else {
				cout << "Error! " << fullFile << " Not found!" << endl;
			}
		}
	}
}
